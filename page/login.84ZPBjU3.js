import{d as b,u as f,a as S,b as v,c as w,r as I,o as x,e as k,f as s,w as i,v as d,g as y,h as U,i as V,j as C}from"../index.qpL_22Hi.js";import{a as B}from"./api-config.DDt0lwuS.js";class M{async login(r){return(await B("/login",r)).data}}const T=new M,c={id:"login"},q={class:"label"},A={class:"label"},j=b({__name:"login",setup(m){const r=f(),{cookies:a}=S(),n=v(),u=w(),p=C();a.get("settings")||n.setState();const t=I({userId:n.userId,pwd:""}),g=()=>{t.remember?n.userId=t.userId:n.userId="",T.login(t).then(l=>{l?(n.setState(),u.loginSuccess(l.data,p)):(u.loginFail(),r.open({title:null,message:"회원정보와 일치하지 않습니다."}))},l=>{console.log(l)})};return(l,e)=>(x(),k("div",c,[s("form",{onSubmit:e[3]||(e[3]=V(o=>g(),["prevent"])),method:"POST",ref:"login"},[s("fieldset",null,[e[8]||(e[8]=s("legend",null,"로그인",-1)),e[9]||(e[9]=s("h1",null,"관리자 로그인",-1)),s("label",q,[e[4]||(e[4]=s("span",{class:"icon"},"",-1)),i(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.userId=o),name:"userId",placeholder:"아이디를 입력해주세요",required:""},null,512),[[d,t.userId]])]),s("label",A,[e[5]||(e[5]=s("span",{class:"icon"},"",-1)),i(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>t.pwd=o),name:"pwd",placeholder:"비밀번호를 입력해주세요",required:""},null,512),[[d,t.pwd]])]),s("label",null,[i(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>t.remember=o),name:"remember"},null,512),[[y,t.remember]]),e[6]||(e[6]=U()),e[7]||(e[7]=s("span",{class:"remember"}," 아이디 저장",-1))]),e[10]||(e[10]=s("button",{type:"submit"},"로그인",-1))])],544)]))}});export{j as default};
