import{d as b,u as f,a as v,b as S,c as w,r as I,o as x,e as k,f as s,w as i,v as d,g as c,h as y,i as U,j as V,_ as C}from"../index.C3ATbS2G.js";import{a as B}from"./api-config.DUn_w41-.js";class M{async login(r){return(await B("/login",r)).data}}const T=new M,q={id:"login"},A={class:"label"},F={class:"label"},N=b({__name:"login",setup(p){const r=f(),{cookies:a}=v(),n=S(),u=w(),m=V();a.get("settings")||n.setState();const t=I({userId:n.userId,pwd:""}),g=()=>{t.remember?n.userId=t.userId:n.userId="",T.login(t).then(l=>{l?(n.setState(),u.loginSuccess(l.data,m)):(u.loginFail(),r.open({title:null,message:"회원정보와 일치하지 않습니다."}))},l=>{console.log(l)})};return(l,e)=>(x(),k("div",q,[s("form",{onSubmit:e[3]||(e[3]=U(o=>g(),["prevent"])),method:"POST",ref:"login"},[s("fieldset",null,[e[8]||(e[8]=s("legend",null,"로그인",-1)),e[9]||(e[9]=s("h1",null,"관리자 로그인",-1)),s("label",A,[e[4]||(e[4]=s("span",{class:"icon"},"",-1)),i(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>t.userId=o),name:"userId",placeholder:"아이디를 입력해주세요",required:""},null,512),[[d,t.userId]])]),s("label",F,[e[5]||(e[5]=s("span",{class:"icon"},"",-1)),i(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>t.pwd=o),name:"pwd",placeholder:"비밀번호를 입력해주세요",required:""},null,512),[[d,t.pwd]])]),s("label",null,[i(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>t.remember=o),name:"remember"},null,512),[[c,t.remember]]),e[6]||(e[6]=y()),e[7]||(e[7]=s("span",{class:"remember"}," 아이디 저장",-1))]),e[10]||(e[10]=s("button",{type:"submit"},"로그인",-1))])],544)]))}}),E=C(N,[["__scopeId","data-v-908e0663"]]);export{E as default};
