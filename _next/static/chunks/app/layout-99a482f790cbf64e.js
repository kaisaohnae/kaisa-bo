(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{8175:()=>{},9335:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});let n=(0,t(65453).v)(e=>({loading:!1,target:"",startLoading:s=>{e(()=>({loading:!0,target:s&&s.target?s.target:""}))},stopLoading:()=>{e(()=>({loading:!1,initLoading:!1,target:""}))}}))},14410:()=>{},15725:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var n=t(32825);class a{async login(e){return(await (0,n.D)("/auth/login",e)).data}async changePassword(e){return(await (0,n.D)("/auth/change-password",e)).data}}let l=new a},16964:()=>{},18255:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var n=t(65453),a=t(46786),l=t(84859);let i=(0,n.v)()((0,a.Zr)((e,s)=>({userInfo:{},token:"",loginSuccess:async(s,t)=>{let n=l.A.getState();s&&s.token&&s.userInfo&&(e({userInfo:s.userInfo,token:s.token}),n.setCodeList(s.codeList),n.setMenuList(s.menuList),n.setHash("/"),t("/"))},loginFail:()=>{s().removeSession()},removeSession:()=>{e({userInfo:{},token:""})},logout:e=>{s().removeSession(),e("/login")}}),{name:"auth-storage",partialize:e=>({userInfo:e.userInfo,token:e.token})}))},21883:(e,s,t)=>{"use strict";t.d(s,{default:()=>o});var n=t(95155),a=t(12115),l=t(51934),i=t(9335);let r=e=>{let{width:s=100,height:t=100}=e;return(0,n.jsx)("svg",{width:s,height:t,viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},children:(0,n.jsxs)("g",{id:"spinner--loading--dots-",children:[(0,n.jsx)("path",{d:"M46.03,32c0,-2.751 2.233,-4.985 4.985,-4.985c2.751,0 4.985,2.234 4.985,4.985c0,2.751 -2.234,4.985 -4.985,4.985c-2.752,0 -4.985,-2.234 -4.985,-4.985Z",style:{fill:"#aaa"}}),(0,n.jsx)("path",{d:"M41.92,41.92c1.946,-1.945 5.105,-1.945 7.051,0c1.945,1.946 1.945,5.105 0,7.051c-1.946,1.945 -5.105,1.945 -7.051,0c-1.945,-1.946 -1.945,-5.105 0,-7.051Z",style:{fill:"#999"}}),(0,n.jsx)("circle",{cx:"32",cy:"51.015",r:"4.985",style:{fill:"#666"}}),(0,n.jsx)("path",{d:"M22.08,41.92c1.945,1.946 1.945,5.105 0,7.051c-1.946,1.945 -5.105,1.945 -7.051,0c-1.945,-1.946 -1.945,-5.105 0,-7.051c1.946,-1.945 5.105,-1.945 7.051,0Z",style:{fill:"#333"}}),(0,n.jsx)("path",{d:"M17.97,32c0,2.751 -2.233,4.985 -4.985,4.985c-2.751,0 -4.985,-2.234 -4.985,-4.985c0,-2.751 2.234,-4.985 4.985,-4.985c2.752,0 4.985,2.234 4.985,4.985Z",style:{fill:"#222"}}),(0,n.jsx)("path",{d:"M22.08,22.08c-1.946,1.945 -5.105,1.945 -7.051,0c-1.945,-1.946 -1.945,-5.105 0,-7.051c1.946,-1.945 5.105,-1.945 7.051,0c1.945,1.946 1.945,5.105 0,7.051Z",style:{fill:"#000"}}),(0,n.jsx)("circle",{cx:"32",cy:"12.985",r:"4.985"})]})})};function o(){return(0,i.A)((0,a.useCallback)(e=>e.loading,[]))?(0,n.jsx)("div",{id:"loading",children:(0,n.jsx)(l.P.div,{className:"loading",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},children:(0,n.jsx)(r,{})})}):null}},32825:(e,s,t)=>{"use strict";t.d(s,{D:()=>u});var n=t(23464),a=t(9335),l=t(49925);let{startLoading:i,stopLoading:r}=a.A.getState(),{showAlert:o}=l.A.getState(),c=n.A.create({timeout:1e4,baseURL:"https://ohnae8.mycafe24.com/api"});c.interceptors.request.use(e=>(i(),e),e=>(r(),console.log(e),Promise.reject())),c.interceptors.response.use(e=>{if(r(),200===e.status)return e;Promise.reject()},e=>{var s,t,n;r();let a=null==(s=e.response)?void 0:s.data;return((null==(t=e.response)?void 0:t.status)===401||(null==(n=e.response)?void 0:n.status)===403)&&(window.location.href="/login"),a&&a.message&&o({message:a.message}),Promise.reject()});var d=t(18255);let u=(e,s)=>{let{token:t}=d.A.getState();return c({url:e,data:JSON.stringify(s),method:"post",headers:{"Content-Type":"application/json",...t?{Authorization:"Bearer ".concat(t)}:{}},withCredentials:!1})}},33968:()=>{},35484:(e,s,t)=>{"use strict";t.d(s,{default:()=>v});var n=t(95155),a=t(12115),l=t(35695),i=t(18255);function r(e){let{onReady:s}=e,t=(0,i.A)(),n=(()=>{let{push:e,...s}=(0,l.useRouter)(),t=(0,l.useSearchParams)();return{...s,push:s=>{let{pathname:n,query:a}=s;a||(a={});let l=t.get("o");l&&(a.o=l);let i=t.get("r");i&&(a.r=i);let r=new URLSearchParams(a).toString();e("".concat(n,"?").concat(r))}}})(),r=(0,a.useRef)(!1),o=async()=>{try{s()}catch(e){console.error("Error fetching data:",e),n.push({pathname:"/error",query:{cd:"fetch-error"}})}finally{r.current=!0}};return(0,a.useEffect)(()=>{r.current&&!t.token&&n.push({pathname:"/login",query:{}})},[n]),(0,a.useEffect)(()=>{(async()=>{await o()})().then()},[]),null}var o=t(84859);let c=e=>{let{width:s=140,height:t=59,fill:a="#000000"}=e;return(0,n.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:s,height:t,viewBox:"0 0 342.000000 145.000000",preserveAspectRatio:"xMidYMid meet",children:(0,n.jsxs)("g",{transform:"translate(0.000000,145.000000) scale(0.100000,-0.100000)",fill:"none",stroke:"none",children:[(0,n.jsx)("path",{d:"M1295 1435 c-291 -54 -552 -277 -791 -675 -39 -64 -76 -130 -83 -148 -7 -17 -17 -32 -22 -32 -5 0 -9 101 -9 225 l0 225 -195 0 -195 0 0 -515 0 -515 198 0 197 0 -3 206 c-2 114 1 203 6 200 5 -3 46 -95 92 -206 l84 -200 199 0 c109 0 197 4 195 8 -2 5 -50 118 -108 251 l-104 242 23 67 c35 100 142 316 203 407 29 44 93 121 143 171 248 249 531 279 847 88 70 -43 72 -43 33 -9 -59 50 -197 131 -286 165 -87 33 -226 60 -303 59 -28 0 -82 -7 -121 -14z",fill:"#ff0000"}),(0,n.jsx)("path",{d:"M2282 851 c-101 -35 -132 -85 -132 -213 0 -140 13 -155 233 -287 96 -58 107 -73 107 -150 0 -69 -45 -104 -84 -65 -12 11 -16 36 -16 90 l0 74 -121 0 -122 0 7 -81 c8 -96 23 -138 62 -168 56 -44 89 -51 238 -51 134 0 143 2 191 28 74 40 87 71 83 207 -3 94 -6 115 -26 147 -23 38 -109 99 -219 157 -75 40 -92 58 -100 105 -7 46 17 86 52 86 30 0 45 -31 45 -91 l0 -39 115 0 115 0 0 54 c0 80 -10 114 -42 146 -64 65 -268 92 -386 51z",fill:a}),(0,n.jsx)("path",{d:"M1226 828 c-3 -13 -24 -144 -46 -293 -23 -148 -50 -324 -61 -390 -10 -66 -19 -126 -19 -132 0 -10 32 -13 129 -13 144 0 141 -2 141 82 0 61 7 68 61 68 l49 0 0 -37 c0 -21 3 -55 6 -76 l7 -37 129 0 130 0 -6 28 c-3 15 -21 119 -41 232 -19 113 -50 291 -68 395 l-34 190 -186 3 -187 2 -4 -22z m219 -319 c8 -74 17 -151 20 -172 l5 -38 -47 3 -48 3 3 40 c2 22 12 97 23 167 10 70 19 130 19 134 0 4 2 5 5 2 3 -3 12 -66 20 -139z",fill:a}),(0,n.jsx)("path",{d:"M1800 425 l0 -425 130 0 130 0 0 425 0 425 -130 0 -130 0 0 -425z",fill:a}),(0,n.jsx)("path",{d:"M2829 425 l-65 -425 132 0 132 0 7 75 7 75 48 0 c53 0 59 -9 60 -85 0 -65 2 -66 141 -63 l125 3 -53 305 c-29 168 -62 358 -74 423 l-21 117 -187 0 -186 0 -66 -425z m280 105 c6 -58 13 -133 17 -167 l7 -63 -47 0 c-30 0 -46 4 -46 13 0 20 42 311 47 327 8 22 11 6 22 -110z",fill:a})]})})};var d=t(49925),u=t(15725);function h(e){let{onClose:s}=e,[t,l]=(0,a.useState)(""),[i,r]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),{showAlert:h}=(0,d.A)(),m=async e=>{if(e.preventDefault(),!t||!i||!o)return void h({message:"모든 항목을 입력해주세요."});if(i!==o)return void h({message:"새 비밀번호가 일치하지 않습니다."});try{let e=await u.A.changePassword({currentPassword:t,newPassword:i});e.success?(h({message:"비밀번호가 변경되었습니다."}),s()):h({message:e.message||"현재 비밀번호가 일치하지 않습니다."})}catch(e){h({message:"비밀번호 변경 중 오류가 발생했습니다."})}};return(0,n.jsxs)("form",{className:"modal-settings",autoComplete:"off",onSubmit:m,children:[(0,n.jsx)("h2",{children:"비밀번호 변경"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("h3",{children:"현재 비밀번호"}),(0,n.jsx)("input",{type:"password",name:"currentPassword",autoComplete:"off",value:t,onChange:e=>l(e.target.value),placeholder:"현재 비밀번호 입력"})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("h3",{children:"새 비밀번호"}),(0,n.jsx)("input",{type:"password",name:"newPassword",autoComplete:"off",value:i,onChange:e=>r(e.target.value),placeholder:"새 비밀번호 입력"})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("h3",{children:"새 비밀번호 확인"}),(0,n.jsx)("input",{type:"password",name:"confirmPassword",autoComplete:"off",value:o,onChange:e=>c(e.target.value),placeholder:"새 비밀번호 확인"})]}),(0,n.jsxs)("div",{className:"buttons",children:[(0,n.jsx)("button",{type:"submit",children:"변경"}),(0,n.jsx)("button",{type:"button",onClick:s,children:"취소"})]})]})}function m(){var e,s;let t=(0,i.A)(),r=(0,o.A)(),{showAlert:u}=(0,d.A)(),[m,v]=(0,a.useState)(!1),p=(0,l.useRouter)(),[x,j]=(0,a.useState)(""),f=(0,a.useMemo)(()=>r.menuList,[r.menuList]);(0,a.useEffect)(()=>{},[]);let g=(0,a.useMemo)(()=>{let e=x.trim().toLowerCase();return e?f.filter(s=>{var t;return null==(t=s.menuName)?void 0:t.toLowerCase().includes(e)}):[]},[x,f]),N=e=>{let s=r.favList,t=s.findIndex(s=>s.menuId===e.menuId);-1!==t?s.splice(t,1):s.push(e),r.setFavList(s)},b=e=>{r.setHash(e.path),p.push(e.path)},w=()=>{r.setHash("/"),p.push("/")},k=()=>{r.setMenuActive(!r.menuActive)};return(0,n.jsxs)(n.Fragment,{children:[m&&(0,n.jsx)(h,{onClose:()=>v(!1)}),(0,n.jsxs)("div",{id:"header",className:r.menuActive?"menu-on":"menu",children:[(0,n.jsx)("div",{className:"btnMenu",onClick:k,children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{}),(0,n.jsx)("li",{}),(0,n.jsx)("li",{})]})}),(0,n.jsxs)("ul",{className:"userInfo",children:[(0,n.jsx)("li",{className:"name",children:(0,n.jsxs)("b",{children:[(0,n.jsx)("span",{className:"icon user",children:""}),t.userInfo.userName,"님"]})}),(0,n.jsxs)("li",{className:"btn",children:[(0,n.jsx)("u",{onClick:()=>t.logout(p.push),style:{cursor:"pointer"},children:"로그아웃"}),(0,n.jsx)("u",{className:"icon setting",style:{cursor:"pointer",paddingLeft:10},onClick:()=>{v(!m)},children:""})]})]}),(0,n.jsxs)("div",{className:"tab",children:[(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{className:"/main"===r.hash?"active":"",children:(0,n.jsx)("span",{className:"icon home",onClick:w,children:""})}),r.favList.map((e,s)=>(0,n.jsxs)("li",{className:r.hash===e.path?"active":"",children:[(0,n.jsx)("span",{className:"name",onClick:()=>{r.setHash(e.path),p.push(e.path)},children:e.menuName}),(0,n.jsx)("span",{className:"icon close",onClick:()=>N(e),children:""})]},s))]}),(0,n.jsx)("span",{className:"icon closeAll",onClick:()=>{confirm("즐겨찾기를 모두 지우시겠습니까?")&&r.setFavList([])},children:""})]})]}),(0,n.jsxs)("div",{id:"side",className:r.menuActive?"menu-on":"",children:[(0,n.jsx)("h1",{onClick:w,children:(null==t||null==(e=t.userInfo)?void 0:e.companyId)==="kaisa"?(0,n.jsx)(c,{width:100,fill:"#666666"}):(0,n.jsxs)("span",{className:"logo",children:[null==t||null==(s=t.userInfo)?void 0:s.companyId," ",(0,n.jsx)("b",{children:"admin"})]})}),(0,n.jsx)("div",{className:"search",children:(0,n.jsx)("input",{value:x,onChange:e=>j(e.target.value),placeholder:"메뉴 검색"})}),(0,n.jsx)("div",{className:"wrap",children:g.length>0?(0,n.jsx)("div",{className:"searchList",children:(0,n.jsx)("ul",{children:g.map((e,s)=>(0,n.jsxs)("li",{className:r.hash===e.path?"active":"",onClick:()=>b(e),children:[(0,n.jsx)("span",{className:"icon pre",dangerouslySetInnerHTML:{__html:e.icon}}),(0,n.jsx)("span",{className:"name",dangerouslySetInnerHTML:{__html:e.menuName}}),(0,n.jsx)("span",{className:"icon fav".concat(e.fav?" on":""),onClick:s=>{s.stopPropagation(),N(e)},children:""})]},s))})}):(0,n.jsx)("div",{className:"menuList",children:(0,n.jsx)("ul",{children:f.map((e,s)=>(0,n.jsxs)("li",{className:r.hash===e.path?"active":"",onClick:()=>b(e),children:[(0,n.jsx)("span",{className:"icon pre",dangerouslySetInnerHTML:{__html:e.icon}}),(0,n.jsx)("span",{className:"name",children:e.menuName}),(0,n.jsx)("span",{className:"icon fav".concat(r.favList.some(s=>s.menuId===e.menuId)?" on":""),onClick:s=>{s.stopPropagation(),N(e)},children:""})]},s))})})})]}),r.menuActive&&(0,n.jsx)("div",{id:"mask",onClick:k})]})}function v(e){let{children:s}=e,[t,i]=(0,a.useState)(!1),c=(0,o.A)(e=>e.menuActive),d=(0,l.usePathname)(),[u,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{h(!(null==d?void 0:d.includes("login")))},[d]);let v=[c?"menu-on":"",(null==d?void 0:d.includes("login"))?"login":""].filter(Boolean).join(" ");return(0,n.jsxs)(a.Suspense,{children:[(0,n.jsxs)("div",{id:"container",className:v,children:[u&&(0,n.jsx)(m,{}),(0,n.jsx)("div",{id:"contents",children:t&&s})]}),(0,n.jsx)(r,{onReady:()=>i(!0)})]})}},36996:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var n=t(95155),a=t(12115),l=t(35695);function i(){let e=(0,l.usePathname)(),[s,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(!(null==e?void 0:e.match("login")))},[e]),s&&(0,n.jsx)("div",{id:"footer",children:"copyright (c) kaisa. all right reserved"})}},49925:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});let n=(0,t(65453).v)(e=>({alert:null,error:!1,showAlert:s=>{e(()=>({alert:s}))},hideAlert:()=>{e(()=>({alert:null}))},showError:()=>{e(()=>({error:!0}))},hideError:()=>{e(()=>({error:!1}))}}))},58262:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,77590,23)),Promise.resolve().then(t.t.bind(t,35279,23)),Promise.resolve().then(t.bind(t,35484)),Promise.resolve().then(t.t.bind(t,76918,23)),Promise.resolve().then(t.t.bind(t,14410,23)),Promise.resolve().then(t.t.bind(t,95663,23)),Promise.resolve().then(t.t.bind(t,33968,23)),Promise.resolve().then(t.t.bind(t,8175,23)),Promise.resolve().then(t.t.bind(t,89832,23)),Promise.resolve().then(t.t.bind(t,16964,23)),Promise.resolve().then(t.bind(t,76746)),Promise.resolve().then(t.bind(t,36996)),Promise.resolve().then(t.bind(t,21883))},76746:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var n=t(95155),a=t(12115),l=t(49925);function i(){let e=(0,l.A)((0,a.useCallback)(e=>e.alert,[])),{hideAlert:s}=l.A.getState();return e?(0,n.jsx)("div",{id:"alert",children:(0,n.jsxs)("div",{className:"box",children:[(0,n.jsx)("div",{className:"message",children:e.message}),(0,n.jsx)("div",{className:"buttons",children:e.buttons&&e.buttons.length>0?e.buttons.map((e,s)=>(0,n.jsx)("button",{className:"on"===e.type?"on":"off",style:e.rate?{flex:e.rate}:{flex:1},onClick:e.callback,children:e.text},s)):(0,n.jsx)("button",{className:"on",onClick:s,children:"확인"})})]})}):null}},76918:()=>{},84859:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var n=t(65453),a=t(46786),l=t(57383);let i={id:"",menuActive:!1,hash:"",tab:{idx:0},favList:[],menuList:[],codeList:{}},r=(0,n.v)()((0,a.Zr)((e,s)=>({...i,setHash:s=>{e({hash:s})},setStateToCookie:()=>{l.A.set("settings",JSON.stringify(s()))},reset:()=>{e(i),l.A.remove("settings")},setFavList:s=>{e({favList:s})},setMenuList:s=>{e({menuList:s})},setCodeList:s=>{e({codeList:s})},setMenuActive:s=>{e({menuActive:s})}}),{name:"settings-storage",partialize:e=>({id:e.id,menuActive:e.menuActive,hash:e.hash,tab:e.tab,favList:e.favList,menuList:e.menuList,codeList:e.codeList})}))},89832:()=>{},95663:()=>{}},e=>{e.O(0,[1652,9869,4105,1997,185,3833,8441,5964,7358],()=>e(e.s=58262)),_N_E=e.O()}]);