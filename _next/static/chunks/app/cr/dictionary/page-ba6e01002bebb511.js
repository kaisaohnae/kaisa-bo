(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{9335:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(65453).v)(e=>({loading:!1,target:"",startLoading:t=>{e(()=>({loading:!0,target:t&&t.target?t.target:""}))},stopLoading:()=>{e(()=>({loading:!1,initLoading:!1,target:""}))}}))},14064:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(95155),n=a(12115),l=a(42220),i=(a(4847),a(26464)),r=a(63241);let o={defaultProps:{rowHeaders:!0,columnSorting:!1,manualColumnResize:!0,comments:!0,autoWrapRow:!0,autoWrapCol:!0,rowHeights:28,height:"500px",width:"100%",licenseKey:"non-commercial-and-evaluation"},commonColumnNames:["mode"],commonColumns:[{data:"mode",type:"text",width:1,readOnly:!0,hidden:!0}],auditColumnNames:["등록자","등록일시","수정자","수정일시"],auditColumns:[{data:"creator",type:"text",width:100,readOnly:!0,editor:!1},{data:"createDt",type:"text",width:170,readOnly:!0,editor:!1},{data:"updater",type:"text",width:100,readOnly:!0,editor:!1},{data:"updateDt",type:"text",width:170,readOnly:!0,editor:!1}],commonAddColumns:{mode:"C"},auditAddColumns:{creator:"",createDt:"",updater:"",updateDt:""},hiddenColumns:e=>({columns:e,indicators:!0}),afterChangeEvent:e=>{let{changes:t,source:a,gridProps:s,grid:n,self:l}=e;("edit"===a||"CopyPaste.paste"===a||"Autofill.fill"===a)&&(null==t||t.forEach(e=>{let[t,a,i,r]=e;"mode"!==a&&(s.required.includes(a)&&!r?l.setCellMeta(t,l.propToCol(a),"className","cell-required"):l.removeCellMeta(t,l.propToCol(a),"className"),i!==r&&"C"!==n.getSourceDataAtRow(t).mode&&n.setDataAtRowProp(t,"mode","U"))}))},cellsEvent:e=>{let{row:t,col:a,grid:s,self:n,pk:l}=e,i={},r=n.instance.getDataAtRowProp(t,"mode")||"";if((null==s?void 0:s.getCell)&&0===a){var o,d,c;let e=null===(o=s.getCell(t,0))||void 0===o?void 0:o.parentNode;if(e)switch(e.classList.remove("row-updated"),e.classList.remove("row-deleted"),r){case"C":case"R":break;case"U":null===(d=e.classList)||void 0===d||d.add("row-updated");break;case"D":null===(c=e.classList)||void 0===c||c.add("row-deleted")}}return"C"===r&&l.forEach(e=>{if(a===e)return i.readOnly=!1,i}),i},add:e=>{let{newRow:t,list:a,grid:s}=e;return a.unshift(t),s.loadData(a),a},valid:e=>{let{list:t,required:a}=e;if(t.filter(e=>a.some(t=>null===e[t]||void 0===e[t]||""===e[t])).length>0){alert("모든 필수 항목을 입력해야 합니다.");return}let s=t.filter(e=>e.mode);if(0===s.length)return alert("저장할 데이터가 없습니다."),null;let n={C:s.filter(e=>"C"===e.mode).length,U:s.filter(e=>"U"===e.mode).length,D:s.filter(e=>"D"===e.mode).length};return confirm("등록 ".concat(n.C,"건, 수정 ").concat(n.U,"건, 삭제 ").concat(n.D,"건을 저장하시겠습니까?"))?s:null},del:e=>{let{selectedRow:t,grid:a}=e;null!==t&&("C"===a.getDataAtRowProp(t,"mode")?a.alter("remove_row",t):a.setDataAtRowProp(t,"mode","D"))}};var d=a(55035),c=a(30832),u=a.n(c);let m={format:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm";return e&&u()(e).isValid()&&u()(e).format(t)},DATE_FORMAT_NUMBER:"YYYYMMDDHHmmss"},h={excelExport:(e,t)=>{if(!confirm("엑셀 다운로드 받겠습니까?"))return;let a=d.utils.book_new(),s=e.getSettings().columns,n=e.getColHeader(),l=e.getData(),i=[];if(l.forEach(e=>{let t={};e.forEach((e,a)=>{"mode"!==n[a]&&(t[n[a]]=e)}),i.push(t)}),0===i.length){console.error("엑셀 데이터가 없습니다.");return}let r=d.utils.json_to_sheet(i);r["!cols"]=s&&Array.isArray(s)?s.map((e,t)=>({width:(n[t]?n[t].length:0)*4})):[],d.utils.book_append_sheet(a,r,t);let o="".concat(t,"_").concat(m.format(new Date,m.DATE_FORMAT_NUMBER),".xlsx");d.writeFile(a,o)}};var y=a(32825);class p{async getDictionaryList(e){return(await (0,y.D)("/cr/get-dictionary-list",e||{})).data}async setDictionaryList(e){return(await (0,y.D)("/cr/set-dictionary-list",e||{})).data}}let g=new p;var x=a(54239),v=a(20480);function j(e){let{date:t=[new Date().toISOString().slice(0,10)],format:a="yyyy-MM-dd",isAll:l=!0,onSetStartDate:i}=e,[r,o]=(0,n.useState)(l),[d,c]=(0,n.useState)(!l&&t[0]?new Date(t[0]):null);return(0,n.useEffect)(()=>{d&&!r&&i({date:"yyyy-MM-dd"===a?d.toISOString().slice(0,10):d.toISOString().slice(0,16).replace("T"," ")})},[d]),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("div",{className:"all-wrap",children:l&&(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:r,onChange:()=>{let e=!r;if(o(e),e)c(null),i({date:null});else{let e=new Date;c(e),i({date:"yyyy-MM-dd"===a?e.toISOString().slice(0,10):e.toISOString().slice(0,16).replace("T"," ")})}}})," 전체"]})}),!r&&(0,s.jsx)("div",{className:"picker-wrap",style:{paddingRight:5},children:(0,s.jsx)(x.Ay,{locale:v.ko,selected:d,onChange:e=>c(e),dateFormat:"yyyy-MM-dd"===a?"yyyy-MM-dd":"yyyy-MM-dd HH:mm",placeholderText:"yyyy-MM-dd"===a?"날짜 선택":"날짜 및 시간 선택",showTimeSelect:"yyyy-MM-dd"!==a,timeIntervals:30,timeCaption:"시간",disabled:r,className:"input"})})]})}function f(e){let{date:t,format:a="yyyy-MM-dd",isAll:l=!0,isTerm:i=!0,term:r=0,onSetStartDate:o,onSetEndDate:d}=e,[c,u]=(0,n.useState)(l),[m,h]=(0,n.useState)(r),[y,p]=(0,n.useState)(t[0]?new Date(t[0]):null),[g,j]=(0,n.useState)(t[1]?new Date(t[1]):null),f=e=>{h(e);let t=new Date;switch(e){case 1:t.setDate(t.getDate()-7);break;case 2:t.setMonth(t.getMonth()-3);break;case 3:t.setMonth(t.getMonth()-6)}u(!1),p(t),o({date:C(t)}),j(new Date),d({date:C(new Date)})};(0,n.useEffect)(()=>{y&&o({date:C(y)})},[y]),(0,n.useEffect)(()=>{g&&d({date:C(g)})},[g]);let C=e=>e?"yyyy-MM-dd"===a?e.toISOString().slice(0,10):e.toISOString().slice(0,16).replace("T"," "):null;return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("div",{className:"all-wrap",style:{display:i?"inline-block":"none"},children:i&&(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:c,onChange:()=>{let e=!c;h(0),u(e),e?(p(null),o({date:null}),j(null),d({date:null})):f(1)}})," 전체"]})}),i&&(0,s.jsxs)("div",{className:"term-wrap",style:{display:i?"inline-block":"none"},children:[(0,s.jsx)("button",{type:"button",className:"button small gray ".concat(1===m?"on":""),onClick:()=>f(1),children:"1주일"}),(0,s.jsx)("button",{type:"button",className:"button small gray ".concat(2===m?"on":""),onClick:()=>f(2),children:"3개월"}),(0,s.jsx)("button",{type:"button",className:"button small gray ".concat(3===m?"on":""),onClick:()=>f(3),children:"6개월"})]}),!c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"picker-wrap",style:{paddingRight:5},children:(0,s.jsx)(x.Ay,{locale:v.ko,selected:y,onChange:e=>p(e),dateFormat:"yyyy-MM-dd"===a?"yyyy-MM-dd":"yyyy-MM-dd HH:mm",placeholderText:"yyyy-MM-dd"===a?"날짜 선택":"날짜 및 시간 선택",showTimeSelect:"yyyy-MM-dd"!==a,timeIntervals:30,timeCaption:"시간",disabled:c})}),(0,s.jsx)("div",{className:"picker-wrap",children:(0,s.jsx)(x.Ay,{locale:v.ko,selected:g,onChange:e=>j(e),dateFormat:"yyyy-MM-dd"===a?"yyyy-MM-dd":"yyyy-MM-dd HH:mm",placeholderText:"yyyy-MM-dd"===a?"날짜 선택":"날짜 및 시간 선택",showTimeSelect:"yyyy-MM-dd"!==a,timeIntervals:30,timeCaption:"시간",disabled:c})})]})]})}function C(e){let{currentPage:t,lastPage:a,onChangePage:l}=e,i=(0,n.useMemo)(()=>{let e=10*Math.floor((t-1)/10)+1;return Array.from({length:Math.min(e+10-1,a)-e+1},(t,a)=>e+a)},[t,a]),r=e=>{e<1||e>a||l(e)};return(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("span",{className:"icon first",onClick:()=>1!==t&&r(1),children:""}),(0,s.jsx)("span",{className:"icon pre",onClick:()=>1!==t&&r(t-1),children:""}),i.map(e=>(0,s.jsx)("span",{onClick:()=>r(e),className:"page".concat(e===t?" active":""),children:e},e)),(0,s.jsx)("span",{className:"icon next",onClick:()=>t!==a&&r(t+1),children:""}),(0,s.jsx)("span",{className:"icon last",onClick:()=>t!==a&&r(a),children:""})]})}function b(){let e=(0,n.useRef)(null),[t,a]=(0,n.useState)({abb:"",updater:"",creator:"",startUpdateDt:null,endUpdateDt:null,createDt:null}),[i,r]=(0,n.useState)({grid:null,list:[],audit:!1,totalCount:0,currentPage:1,lastPage:1}),d={unique:["abb"],required:["abb","korean","english"]},[c,u]=(0,n.useState)(null),m=()=>{g.getDictionaryList({...t,page:i.currentPage}).then(e=>{if(r(t=>{var a,s,n,l;return{...t,list:(null===(a=e.data)||void 0===a?void 0:a.list)||[],totalCount:(null===(s=e.data)||void 0===s?void 0:s.totalCount)||0,currentPage:(null===(n=e.data)||void 0===n?void 0:n.currentPage)||1,lastPage:(null===(l=e.data)||void 0===l?void 0:l.lastPage)||1}}),i.grid){var t,a;null===(a=i.grid)||void 0===a||a.updateSettings({data:null===(t=e.data)||void 0===t?void 0:t.list})}})};(0,n.useEffect)(()=>{let t;if(!e.current)return;let a=e.current;t=new l.Ay(a,{data:i.list,colHeaders:[...o.commonColumnNames,"약어","한국어","영어","설명",...o.auditColumnNames],hiddenColumns:o.hiddenColumns([]),columns:[...o.commonColumns,{data:"abb",type:"text",readOnly:!0},{data:"korean",type:"text",width:150},{data:"english",type:"text",width:150},{data:"memo",type:"text",width:200},...o.auditColumns],cells:function(e,a){return o.cellsEvent({row:e,col:a,grid:t,self:this,pk:[1]})},afterChange(e,a){o.afterChangeEvent({changes:e,source:a,gridProps:d,grid:t,self:this})},afterSelectionEnd(e){u(e)},...o.defaultProps}),r(e=>({...e,grid:t})),m()},[]);let y=(e,t)=>{a(a=>({...a,[e]:t}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{className:"search",onSubmit:e=>{e.preventDefault(),m()},children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:"검색"}),(0,s.jsxs)("table",{children:[(0,s.jsxs)("colgroup",{children:[(0,s.jsx)("col",{style:{width:"80px"}}),(0,s.jsx)("col",{style:{width:"30%"}}),(0,s.jsx)("col",{style:{width:"80px"}}),(0,s.jsx)("col",{})]}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"약어"}),(0,s.jsx)("td",{colSpan:3,children:(0,s.jsx)("input",{type:"text",value:t.abb,onChange:e=>y("abb",e.target.value)})})]})}),i.audit&&(0,s.jsxs)("tbody",{className:"audit",children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"수정기간"}),(0,s.jsx)("td",{colSpan:3,children:(0,s.jsx)(f,{format:"yyyy-MM-dd",date:[t.startUpdateDt,t.endUpdateDt],onSetStartDate:e=>y("startUpdateDt",e.date),onSetEndDate:e=>y("endUpdateDt",e.date)})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"등록일"}),(0,s.jsx)("td",{colSpan:3,children:(0,s.jsx)(j,{format:"yyyy-MM-dd",date:[t.createDt],onSetStartDate:e=>y("createDt",e.date)})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"수정ID"}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"text",value:t.updater,onChange:e=>y("updater",e.target.value)})}),(0,s.jsx)("th",{children:"등록ID"}),(0,s.jsx)("td",{children:(0,s.jsx)("input",{type:"text",value:t.creator,onChange:e=>y("creator",e.target.value)})})]})]})]})]}),(0,s.jsxs)("div",{className:"btnWrap",children:[(0,s.jsxs)("span",{className:"crud",children:[(0,s.jsxs)("button",{type:"button",className:"button add",onClick:()=>{let e={...o.commonAddColumns,abb:"",korean:"",english:"",memo:"",...o.auditAddColumns},t=o.add({newRow:e,list:i.list,grid:i.grid});r(e=>({...e,list:t}))},children:[(0,s.jsx)("span",{className:"icon",children:""}),"추가"]}),(0,s.jsxs)("button",{type:"button",className:"button del",onClick:()=>{o.del({selectedRow:c,grid:i.grid})},children:[(0,s.jsx)("span",{className:"icon",children:""}),"삭제"]}),(0,s.jsxs)("button",{type:"button",className:"button save",onClick:()=>{let e=o.valid({list:i.list,required:d.required});e&&g.setDictionaryList(e).then(()=>m())},children:[(0,s.jsx)("span",{className:"icon",children:""}),"저장"]}),(0,s.jsxs)("button",{type:"button",className:"button reset",onClick:()=>window.location.reload(),children:[(0,s.jsx)("span",{className:"icon",children:'"'}),"초기화"]})]}),(0,s.jsx)("button",{type:"button",className:"audit",onClick:()=>r(e=>({...e,audit:!e.audit})),children:"상세조회"}),(0,s.jsx)("button",{type:"submit",className:"button3",children:(0,s.jsx)("span",{className:"icon",children:""})}),(0,s.jsx)("button",{type:"reset",onClick:()=>window.location.reload(),children:(0,s.jsx)("span",{className:"icon",children:'"'})}),(0,s.jsx)("button",{type:"button",className:"button excel",onClick:()=>h.excelExport(i.grid,"코드"),children:(0,s.jsx)("span",{className:"icon",children:""})}),(0,s.jsxs)("div",{className:"totalCount",children:["총 ",i.totalCount,"건"]})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{id:"grid",className:"grid-container",ref:e})}),0===i.list.length&&(0,s.jsx)("div",{className:"no-list",children:"조회 내역이 없습니다."}),(0,s.jsx)(C,{currentPage:i.currentPage,lastPage:i.lastPage,onChangePage:e=>{r(t=>({...t,currentPage:e})),m()}})]})}},18255:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(65453),n=a(46786),l=a(84859);let i=(0,s.v)()((0,n.Zr)((e,t)=>({active:!1,userInfo:{},token:"",loginSuccess:async(t,a)=>{let s=l.A.getState();t&&t.token&&t.userInfo&&(e({userInfo:t.userInfo,token:t.token}),s.setCodeList(t.codeList),s.setMenuList(t.menuList),s.setHash("/"),a("/"))},loginFail:()=>{t().removeSession()},removeSession:()=>{e({userInfo:{},token:""})},logout:e=>{t().removeSession(),e("/login")}}),{name:"auth-storage",partialize:e=>({userInfo:e.userInfo,token:e.token})}))},32825:(e,t,a)=>{"use strict";a.d(t,{D:()=>o});var s=a(23464);let{startLoading:n,stopLoading:l}=a(9335).A.getState(),i=s.A.create({timeout:1e4,baseURL:"https://ohnae8.mycafe24.com/api"});i.interceptors.request.use(e=>(n(),e),e=>(l(),console.log(e),Promise.reject())),i.interceptors.response.use(e=>{if(l(),200===e.status)return e;Promise.reject()},e=>{var t,a,s;l();let n=null===(t=e.response)||void 0===t?void 0:t.data;return(null===(a=e.response)||void 0===a?void 0:a.status)===401||(null===(s=e.response)||void 0===s?void 0:s.status)===403||n&&n.message,Promise.reject()});var r=a(18255);let o=(e,t)=>{let{token:a}=r.A.getState();return i({url:e,data:JSON.stringify(t),method:"post",headers:{"Content-Type":"application/json",...a?{Authorization:"Bearer ".concat(a)}:{}},withCredentials:!1})}},61976:()=>{},71581:()=>{},73983:()=>{},83888:(e,t,a)=>{Promise.resolve().then(a.bind(a,14064))},84660:()=>{},84859:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(65453),n=a(46786),l=a(57383);let i={id:"",menuActive:!1,hash:"",tab:{idx:0},favList:[],menuList:[],codeList:{}},r=(0,s.v)()((0,n.Zr)((e,t)=>({...i,setHash:t=>{e({hash:t})},setStateToCookie:()=>{l.A.set("settings",JSON.stringify(t()))},reset:()=>{e(i),l.A.remove("settings")},setFavList:t=>{e({favList:t})},setMenuList:t=>{e({menuList:t})},setCodeList:t=>{e({codeList:t})},setMenuActive:t=>{e({menuActive:t})}}),{name:"settings-storage",partialize:e=>({id:e.id,menuActive:e.menuActive,hash:e.hash,tab:e.tab,favList:e.favList,menuList:e.menuList,codeList:e.codeList})}))}},e=>{var t=t=>e(e.s=t);e.O(0,[4,49,98,545,693,394,579,784,586,774,185,929,441,684,358],()=>t(83888)),_N_E=e.O()}]);